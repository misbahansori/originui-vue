{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "comp-331",
  "type": "registry:component",
  "registryDependencies": [
    "https://originui-vue.com/r/button.json",
    "https://originui-vue.com/r/dialog.json",
    "https://originui-vue.com/r/input.json",
    "https://originui-vue.com/r/label.json",
    "https://originui-vue.com/r/textarea.json"
  ],
  "files": [
    {
      "path": "app/registry/default/components/comp-331.vue",
      "content": "<script setup lang=\"ts\">\nimport { Button } from \"@/registry/default/ui/button\";\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/registry/default/ui/dialog\";\nimport { Input } from \"@/registry/default/ui/input\";\nimport { Label } from \"@/registry/default/ui/label\";\nimport { Textarea } from \"@/registry/default/ui/textarea\";\nimport { useObjectUrl } from \"@vueuse/core\";\nimport { LucideCheck, LucideImagePlus, LucideX } from \"lucide-vue-next\";\nimport { computed, ref, useId } from \"vue\";\n\nconst id = useId();\nconst maxLength = 180;\nconst bio = ref(\n  \"Hey, I am Margaret, a web developer who loves turning ideas into amazing websites!\",\n);\nconst characterCount = computed(() => bio.value.length);\n\n// Cover upload functionality\nconst coverInputRef = useTemplateRef(\"coverInputRef\");\nconst coverFile = ref<File | null>(null);\nconst coverPreviewUrl = useObjectUrl(coverFile);\nconst hideDefault = ref(false);\n\nconst handleCoverChange = (e: Event) => {\n  const target = e.target as HTMLInputElement;\n  coverFile.value = target.files?.[0] || null;\n};\n\nconst handleRemove = () => {\n  coverFile.value = null;\n  hideDefault.value = true;\n  if (coverInputRef.value) {\n    coverInputRef.value.value = \"\";\n  }\n};\n\n// Avatar upload functionality\nconst avatarFileInputRef = useTemplateRef(\"avatarFileInputRef\");\nconst avatarFile = ref<File | null>(null);\nconst avatarPreviewUrl = useObjectUrl(avatarFile);\n\nconst handleAvatarFileChange = (e: Event) => {\n  const target = e.target as HTMLInputElement;\n  avatarFile.value = target.files?.[0] || null;\n};\n\nconst handleAvatarThumbnailClick = () => {\n  avatarFileInputRef.value?.click();\n};\n</script>\n\n<template>\n  <Dialog>\n    <DialogTrigger asChild>\n      <Button variant=\"outline\">Edit profile</Button>\n    </DialogTrigger>\n    <DialogContent\n      class=\"flex flex-col gap-0 overflow-y-visible p-0 sm:max-w-lg [&>button:last-child]:top-3.5\"\n    >\n      <DialogHeader class=\"contents space-y-0 text-left\">\n        <DialogTitle class=\"border-b px-6 py-4 text-base\">\n          Edit profile\n        </DialogTitle>\n      </DialogHeader>\n      <DialogDescription class=\"sr-only\">\n        Make changes to your profile here. You can change your photo and set a\n        username.\n      </DialogDescription>\n      <div class=\"overflow-y-auto\">\n        <!-- Profile Background -->\n        <div class=\"h-32\">\n          <div\n            class=\"bg-muted relative flex h-full w-full items-center justify-center overflow-hidden\"\n          >\n            <img\n              v-if=\"coverPreviewUrl || (!hideDefault && '/profile-bg.jpg')\"\n              class=\"h-full w-full object-cover\"\n              :src=\"coverPreviewUrl || '/profile-bg.jpg'\"\n              :alt=\"\n                coverPreviewUrl\n                  ? 'Preview of uploaded image'\n                  : 'Default profile background'\n              \"\n              width=\"512\"\n              height=\"96\"\n            />\n            <div\n              class=\"absolute inset-0 flex items-center justify-center gap-2\"\n            >\n              <button\n                type=\"button\"\n                class=\"focus-visible:border-ring focus-visible:ring-ring/50 z-50 flex size-10 cursor-pointer items-center justify-center rounded-full bg-black/60 text-white transition-[color,box-shadow] outline-none hover:bg-black/80 focus-visible:ring-[3px]\"\n                @click=\"() => coverInputRef?.click()\"\n                :aria-label=\"\n                  coverPreviewUrl || !hideDefault\n                    ? 'Change image'\n                    : 'Upload image'\n                \"\n              >\n                <LucideImagePlus class=\"size-4\" aria-hidden=\"true\" />\n              </button>\n              <button\n                v-if=\"coverPreviewUrl || !hideDefault\"\n                type=\"button\"\n                class=\"focus-visible:border-ring focus-visible:ring-ring/50 z-50 flex size-10 cursor-pointer items-center justify-center rounded-full bg-black/60 text-white transition-[color,box-shadow] outline-none hover:bg-black/80 focus-visible:ring-[3px]\"\n                @click=\"handleRemove\"\n                aria-label=\"Remove image\"\n              >\n                <LucideX class=\"size-4\" aria-hidden=\"true\" />\n              </button>\n            </div>\n          </div>\n          <input\n            type=\"file\"\n            ref=\"coverInputRef\"\n            @change=\"handleCoverChange\"\n            class=\"hidden\"\n            accept=\"image/*\"\n            aria-label=\"Upload image file\"\n          />\n        </div>\n\n        <!-- Avatar -->\n        <div class=\"-mt-10 px-6\">\n          <div\n            class=\"border-background bg-muted relative flex size-20 items-center justify-center overflow-hidden rounded-full border-4 shadow-xs shadow-black/10\"\n          >\n            <img\n              v-if=\"avatarPreviewUrl || '/avatar-72-01.jpg'\"\n              :src=\"avatarPreviewUrl || '/avatar-72-01.jpg'\"\n              class=\"h-full w-full object-cover\"\n              width=\"80\"\n              height=\"80\"\n              alt=\"Profile image\"\n            />\n            <button\n              type=\"button\"\n              class=\"focus-visible:border-ring focus-visible:ring-ring/50 absolute flex size-8 cursor-pointer items-center justify-center rounded-full bg-black/60 text-white transition-[color,box-shadow] outline-none hover:bg-black/80 focus-visible:ring-[3px]\"\n              @click=\"handleAvatarThumbnailClick\"\n              aria-label=\"Change profile picture\"\n            >\n              <LucideImagePlus class=\"size-4\" aria-hidden=\"true\" />\n            </button>\n            <input\n              type=\"file\"\n              ref=\"avatarFileInputRef\"\n              @change=\"handleAvatarFileChange\"\n              class=\"hidden\"\n              accept=\"image/*\"\n              aria-label=\"Upload profile picture\"\n            />\n          </div>\n        </div>\n\n        <div class=\"px-6 pt-4 pb-6\">\n          <form class=\"space-y-4\">\n            <div class=\"flex flex-col gap-4 sm:flex-row\">\n              <div class=\"flex-1 space-y-2\">\n                <Label :htmlFor=\"`${id}-first-name`\">First name</Label>\n                <Input\n                  :id=\"`${id}-first-name`\"\n                  placeholder=\"Matt\"\n                  defaultValue=\"Margaret\"\n                  type=\"text\"\n                  required\n                />\n              </div>\n              <div class=\"flex-1 space-y-2\">\n                <Label :htmlFor=\"`${id}-last-name`\">Last name</Label>\n                <Input\n                  :id=\"`${id}-last-name`\"\n                  placeholder=\"Welsh\"\n                  defaultValue=\"Villard\"\n                  type=\"text\"\n                  required\n                />\n              </div>\n            </div>\n            <div class=\"*:not-first:mt-2\">\n              <Label :htmlFor=\"`${id}-username`\">Username</Label>\n              <div class=\"relative\">\n                <Input\n                  :id=\"`${id}-username`\"\n                  class=\"peer pe-9\"\n                  placeholder=\"Username\"\n                  defaultValue=\"margaret-villard-69\"\n                  type=\"text\"\n                  required\n                />\n                <div\n                  class=\"text-muted-foreground/80 pointer-events-none absolute inset-y-0 end-0 flex items-center justify-center pe-3 peer-disabled:opacity-50\"\n                >\n                  <LucideCheck\n                    class=\"size-4 text-emerald-500\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"*:not-first:mt-2\">\n              <Label :htmlFor=\"`${id}-website`\">Website</Label>\n              <div class=\"flex rounded-md shadow-xs\">\n                <span\n                  class=\"border-input bg-background text-muted-foreground -z-10 inline-flex items-center rounded-s-md border px-3 text-sm\"\n                >\n                  https://\n                </span>\n                <Input\n                  :id=\"`${id}-website`\"\n                  class=\"-ms-px rounded-s-none shadow-none\"\n                  placeholder=\"yourwebsite.com\"\n                  defaultValue=\"www.margaret.com\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n            <div class=\"*:not-first:mt-2\">\n              <Label :htmlFor=\"`${id}-bio`\">Biography</Label>\n              <Textarea\n                :id=\"`${id}-bio`\"\n                placeholder=\"Write a few sentences about yourself\"\n                v-model=\"bio\"\n                :maxLength=\"maxLength\"\n                :aria-describedby=\"`${id}-description`\"\n              />\n              <p\n                :id=\"`${id}-description`\"\n                class=\"text-muted-foreground mt-2 text-right text-xs\"\n                role=\"status\"\n                aria-live=\"polite\"\n              >\n                <span class=\"tabular-nums\">\n                  {{ maxLength - characterCount }}\n                </span>\n                characters left\n              </p>\n            </div>\n          </form>\n        </div>\n      </div>\n      <DialogFooter class=\"border-t px-6 py-4\">\n        <DialogClose asChild>\n          <Button type=\"button\" variant=\"outline\">Cancel</Button>\n        </DialogClose>\n        <DialogClose asChild>\n          <Button type=\"button\">Save changes</Button>\n        </DialogClose>\n      </DialogFooter>\n    </DialogContent>\n  </Dialog>\n</template>\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "tags": [
      "dialog",
      "modal",
      "user",
      "profile",
      "image",
      "avatar",
      "form",
      "radix"
    ],
    "style": 1
  }
}